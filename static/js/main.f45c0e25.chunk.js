(this["webpackJsonpe-commerce-app"]=this["webpackJsonpe-commerce-app"]||[]).push([[0],{22:function(e){e.exports=JSON.parse('[{"id":312,"name":"Super Mario Odyssey","price":197.88,"score":100,"image":"super-mario-odyssey.png"},{"id":201,"name":"Call Of Duty Infinite Warfare","price":49.99,"score":80,"image":"call-of-duty-infinite-warfare.png"},{"id":102,"name":"The Witcher III Wild Hunt","price":119.5,"score":250,"image":"the-witcher-iii-wild-hunt.png"},{"id":99,"name":"Call Of Duty WWII","price":249.99,"score":205,"image":"call-of-duty-wwii.png"},{"id":12,"name":"Mortal Kombat XL","price":69.99,"score":150,"image":"mortal-kombat-xl.png"},{"id":74,"name":"Shards of Darkness","price":71.94,"score":400,"image":"shards-of-darkness.png"},{"id":31,"name":"Terra M\xe9dia: Sombras de Mordor","price":79.99,"score":50,"image":"terra-media-sombras-de-mordor.png"},{"id":420,"name":"FIFA 18","price":195.39,"score":325,"image":"fifa-18.png"},{"id":501,"name":"Horizon Zero Dawn","price":115.8,"score":290,"image":"horizon-zero-dawn.png"}]')},27:function(e,t,c){},28:function(e,t,c){},29:function(e,t,c){},36:function(e,t,c){},37:function(e,t,c){},38:function(e,t,c){},39:function(e,t,c){},40:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),i=c(20),a=c.n(i),o=(c(27),c(11)),s=c(2),j=(c(28),c(29),c(0));function u(){return Object(j.jsx)("header",{children:Object(j.jsxs)("ul",{className:"header-ul",children:[Object(j.jsx)("li",{children:Object(j.jsx)(o.b,{to:"/Home",children:"Home"})}),Object(j.jsx)("li",{children:Object(j.jsx)(o.b,{to:"/checkout",children:"Cart"})})]})})}var d=c(7),l=c(9),b=Object(n.createContext)({}),h=function(e){var t=e.children,c=Object(n.useState)([]),r=Object(l.a)(c,2),i=r[0],a=r[1];return Object(n.useEffect)((function(){var e=localStorage.getItem("cartData");e&&a(JSON.parse(e))}),[]),Object(n.useEffect)((function(){localStorage.setItem("cartData",JSON.stringify(i))}),[i]),Object(j.jsx)(b.Provider,{value:{addToCart:function(e){console.log("is running");var t=!1;if(0!==i.length){var c=i.map((function(c){return c.id===e.id?(t=!0,c.amount++,c):c}));a(t?c:[].concat(Object(d.a)(c),[e]))}else a([e])},removeItem:function(e){var t=i.reduce((function(t,c){return c.id===e?(c.amount--,c.amount<=0?t:[].concat(Object(d.a)(t),[c])):[].concat(Object(d.a)(t),[c])}),[]);a(t)},removeById:function(e){var t=i.filter((function(t){return t.id!==e}));a(t)},getTotalAmount:function(){return i.reduce((function(e,t){return e+t.amount*t.price}),0).toFixed(2)},getTotalProducts:function(){return i.reduce((function(e,t){return e+t.amount}),0)},loadCartItems:function(){return Object(d.a)(i)}},children:t})};function m(){return Object(n.useContext)(b)}c(36);var O=c(18),f=(c(37),c.p+"static/media/cart-icon.f62597cd.svg"),p=function(e){var t=e.item,c=m(),n=c.addToCart,r=c.getTotalAmount;return console.log(r()),Object(j.jsxs)("div",{className:"product-card",children:[Object(j.jsx)("img",{src:"".concat("/e-commerce-app","/assets/").concat(t.image)}),Object(j.jsxs)("p",{children:["Title: ",t.name]}),Object(j.jsxs)("p",{children:["Price $",t.price]}),Object(j.jsx)("img",{src:f,alt:"",id:"cart-icon",onClick:function(e){return n(Object(O.a)(Object(O.a)({},t),{},{amount:1}))}})]})},x=c(22),g=(c(38),function(e){var t=e.filterByName,c=e.filterByPrice,r=e.filterByScore,i=e.searchByName,a=Object(n.useState)(""),o=Object(l.a)(a,2),s=o[0],u=o[1];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"search-container",children:[Object(j.jsx)("input",{type:"text",onChange:function(e){return u(e.target.value)},value:s}),Object(j.jsx)("button",{onClick:function(){return i(s)},children:"Procurar"})]}),Object(j.jsx)("div",{className:"order-container",children:Object(j.jsxs)("div",{className:"sub-order-container",children:[Object(j.jsx)("label",{children:"Ordenar Por:"}),Object(j.jsx)("p",{children:Object(j.jsx)("a",{href:"",onClick:function(e){e.preventDefault(),c()},children:"Pre\xe7o"})}),Object(j.jsx)("p",{children:Object(j.jsx)("a",{href:"",onClick:function(e){e.preventDefault(),r()},children:"Popularidade"})}),Object(j.jsx)("p",{children:Object(j.jsx)("a",{href:"",onClick:function(e){e.preventDefault(),t()},children:"Alfabetica"})})]})})]})});function v(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),c=t[0],r=t[1];return Object(n.useEffect)((function(){r(x)}),[]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(g,{filterByName:function(){var e=c.sort((function(e,t){return e.name.toLowerCase()>t.name.toLowerCase()?1:e.name.toLowerCase()<t.name.toLowerCase()?-1:0}));r((function(t){return Object(d.a)(e)}))},filterByPrice:function(){var e=c.sort((function(e,t){return e.price>t.price?1:e.price<t.price?-1:0}));r((function(t){return Object(d.a)(e)}))},filterByScore:function(){var e=c.sort((function(e,t){return e.score<t.score?1:e.score>t.score?-1:0}));console.log(e),r((function(t){return Object(d.a)(e)}))},searchByName:function(e){var t=c.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));console.log(t),r(t)}}),Object(j.jsx)("div",{className:"products-container",children:c.map((function(e){return Object(j.jsx)(p,{item:e},e.id)}))})]})}c(39);function C(){var e=m(),t=e.loadCartItems,c=e.getTotalAmount,n=e.removeItem,r=e.removeById,i=t();return Object(j.jsxs)("div",{className:"checkout-container",children:[Object(j.jsx)("h2",{children:"Produtos no Carrinho"}),Object(j.jsxs)("table",{className:"products-container-checkout",children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Produto"}),Object(j.jsx)("th",{children:"Valor"}),Object(j.jsx)("th",{children:"Quantidade"}),Object(j.jsx)("th",{children:"Total"}),Object(j.jsx)("th",{children:"A\xe7\xf5es"})]}),i.map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:Object(j.jsxs)("p",{children:["Produto ",e.name]})}),Object(j.jsx)("td",{children:Object(j.jsxs)("p",{children:["R$",e.price]})}),Object(j.jsx)("td",{children:Object(j.jsx)("p",{children:e.amount})}),Object(j.jsx)("td",{children:Object(j.jsx)("p",{children:e.amount*e.price})}),Object(j.jsxs)("td",{children:[Object(j.jsx)("button",{onClick:function(){return n(e.id)},children:"-"}),Object(j.jsx)("button",{onClick:function(){return r(e.id)},children:"X"})]})]})}))]}),Object(j.jsxs)("p",{id:"total-output",children:["TOTAL: R$",c()]})]})}var y=function(){return Object(j.jsx)(o.a,{children:Object(j.jsxs)(h,{children:[Object(j.jsx)(u,{}),Object(j.jsx)("div",{className:"App",children:Object(j.jsxs)(s.d,{children:[Object(j.jsx)(s.b,{exact:!0,path:"/e-commerce-app",children:Object(j.jsx)(s.a,{to:"/home"})}),Object(j.jsx)(s.b,{exact:!0,path:"/e-commerce-app/",children:Object(j.jsx)(s.a,{to:"/home"})}),Object(j.jsx)(s.b,{exact:!0,path:"/home",children:Object(j.jsx)(v,{})}),Object(j.jsx)(s.b,{exact:!0,path:"/checkout",children:Object(j.jsx)(C,{})})]})})]})})},I=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,41)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;c(e),n(e),r(e),i(e),a(e)}))};a.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(y,{})}),document.getElementById("root")),I()}},[[40,1,2]]]);
//# sourceMappingURL=main.f45c0e25.chunk.js.map